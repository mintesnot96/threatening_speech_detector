<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Threat Detection - Mintesnot and Hussein</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!-- Custom CSS -->
    <style>
        body {
            background-color: #f4f4f4;
            font-family: Arial, sans-serif;
        }

        .navbar-custom {
            background-color: #004d99;
            color: white;
        }
        .logo {
        width: 50px;
        height: 50px;
        /* margin-right: 10px; */
      }

        .navbar-custom .navbar-brand,
        .navbar-custom .nav-link {
            color: white;
        }

        .form-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .btn-custom {
            background-color: #007bff;
            color: white;
            border: none;
        }

        .btn-custom:hover {
            background-color: #0056b3;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #007bff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: none; /* Hidden by default */
        }
        m-0 {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        height: 80vh;
      }
      footer {
        background-color: #386087;
        color: #000000;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        input[type="text"],
        input[type="file"] {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 8px;
            width: 100%;
            margin-bottom: 10px;
        }
    </style>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
        <img
          class="logo"
          src="https://addisfortune.net/wp-content/uploads/2013/01/Addis_Ababa_University_logo.png"
          alt="Logo"
        />
        <span
          >Multimodal Threat Recognition in Audio, Visual, and Textual Data</span
        >
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</head>



<body>
    <nav class="navbar navbar-expand-lg navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Threat Detection</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <!-- Add more navigation items if needed -->
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2 form-container">
                <form action="/predict" method="post" enctype="multipart/form-data" id="predictionForm">
                    <h5>Type or Paste Below</h5>
                    <input type="text" id="threat" name="threat">

                    <h5>Or Upload Audio/Video File</h5>
                    <input type="file" name="file" accept="audio/*,video/*">

                    <!-- Submit -->
                    <input type="submit" value="Submit" class="btn btn-custom" id="submitBtn">
                    <div class="loader" id="loader"></div> <!-- Spinner element -->
                    <h3>{{ prediction_text }}</h3>
                </form>
            </div>
        </div>
    </div>
    
    <script>
        document.getElementById('predictionForm').onsubmit = function() {
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('loader').style.display = 'inline-block';
        };
        // Remember to handle the spinner visibility after prediction
    </script>
</body>
<footer class="text-light py-3">
    <div class="container text-center">
      <p class="m-0">
        2024 <br />
        by Mintesnot, Hussein
      </p>

      <a
        class="github-link"
        href="https://github.com/mintesnot96/threatening_speech_detection/main"
        target="_blank"
        rel="noopener noreferrer"
      >
        GitHub
        <img
          src="https://pngimg.com/uploads/github/github_PNG25.png"
          alt="GitHub Logo"
          style="width: 80px; height: 40px; margin-top: 0px"
        />
      </a>
    </div>
  </footer>
</html>
